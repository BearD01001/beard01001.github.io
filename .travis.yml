language: node_js
cache:
  directories:
    - "node_modules"
branches:
  only:
    - deploy
before_install:
  - wget https://github.com/BearD01001/hexo-theme-nextd/archive/master.zip && unzip -o master.zip
  - mkdir -p themes/nextd && cd hexo-theme-nextd-master && cp -rf * ../themes/nextd && cd ..
script: node_modules/.bin/hexo g
deploy:
  skip_cleanup: true
  provider: firebase
  token:
    secure: $FB_TOKEN
